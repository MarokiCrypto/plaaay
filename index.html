<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
<title>INSTAPlay ğŸ®</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --ig1:#feda75;--ig2:#fa7e1e;--ig3:#d62976;--ig4:#962fbf;
  --card-bg:rgba(255,255,255,0.05);
  --radius:18px;--txt:#fff;--muted:rgba(255,255,255,0.7);
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;margin:0;padding:0}
body{
  font-family:"Tajawal",sans-serif;color:var(--txt);
  background:linear-gradient(135deg,var(--ig1),var(--ig2),var(--ig3),var(--ig4));
  background-size:300% 300%;animation:move 12s linear infinite;
}
@keyframes move{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.wrap{min-height:100vh;display:flex;align-items:flex-start;justify-content:center;padding:20px}
.phone{
  width:100%;max-width:420px;background:rgba(0,0,0,0.25);
  border-radius:24px;overflow:hidden;
  box-shadow:0 12px 40px rgba(0,0,0,0.4);
}
header{
  height:56px;display:flex;justify-content:space-between;align-items:center;
  padding:0 14px;background:rgba(0,0,0,0.2);
}
.logo{display:flex;align-items:center;gap:8px}
.logo .icon{
  width:34px;height:34px;border-radius:10px;
  background:linear-gradient(45deg,var(--ig3),var(--ig4));
  display:flex;align-items:center;justify-content:center;font-weight:700
}
.badge{padding:6px 10px;border-radius:8px;background:rgba(255,255,255,0.15);font-size:12px;cursor:pointer}
main{padding:16px}
.card{
  background:var(--card-bg);border-radius:var(--radius);
  padding:16px;margin-bottom:14px;box-shadow:0 8px 24px rgba(0,0,0,0.25);
}
label{font-size:12px;color:var(--muted);margin-bottom:4px;display:block}
input,select{
  width:100%;padding:10px;border-radius:12px;border:none;
  background:rgba(255,255,255,0.08);color:#fff;margin-bottom:10px
}
.btn{
  padding:12px;border:none;border-radius:12px;
  background:linear-gradient(90deg,var(--ig3),var(--ig4));
  color:#fff;font-weight:700;cursor:pointer;width:100%;box-shadow:0 8px 20px rgba(0,0,0,0.3)
}
.row{display:flex;gap:10px}
.hidden{display:none}
footer{text-align:center;font-size:12px;color:var(--muted);padding:10px}

/* Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ */
.game-card{
  background:var(--card-bg);padding:14px;border-radius:var(--radius);
  margin-bottom:16px;box-shadow:0 4px 16px rgba(0,0,0,0.3);
}
.game-card h3{margin-bottom:10px;font-size:15px}
.slot-reels{display:flex;justify-content:center;font-size:40px;gap:10px;margin-bottom:10px}
.mines-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:10px}
.mines-grid button{padding:12px;font-size:18px;border:none;border-radius:8px;background:#333;color:#fff;cursor:pointer}
.mines-grid button.revealed.safe{background:#16a34a}
.mines-grid button.revealed.bomb{background:#dc2626}

/* Ù…ÙˆØ¯Ø§Ù„ Ø¹Ø§Ù… */
.modal{position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;
  z-index:999}
.modal .inner{
  background:#111;padding:18px;border-radius:16px;max-width:420px;width:92%;color:#fff;
  box-shadow:0 8px 30px rgba(0,0,0,0.5);max-height:90vh;overflow:auto
}
.modal h3{margin-bottom:12px}

/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
.chip{
  padding:6px 10px;border-radius:10px;background:rgba(255,255,255,0.1);
  font-size:12px;cursor:pointer;margin:2px
}
.chip.on{background:linear-gradient(90deg,#10b981,#059669)}
.chip.off{background:rgba(255,255,255,0.1)}
</style>
</head>
<body>
<div class="wrap">
  <div class="phone">
    <header>
      <div class="logo"><div class="icon">IP</div><div>INSTAPlay</div></div>
      <div class="badge" id="openSVBtn">SV</div>
    </header>
    <main>
      <!-- Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
      <div class="card" id="authCard">
        <label>Ø§Ù„Ø§Ø³Ù…</label><input id="name">
        <label>Ø§Ù„Ø¨Ø±ÙŠØ¯</label><input id="email" type="email">
        <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</label><input id="pass" type="password">
        <button class="btn" id="registerBtn">ØªØ³Ø¬ÙŠÙ„</button>
      </div>
      <!-- Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ -->
      <div class="card hidden" id="dashCard">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><b id="userName"></b><div>ğŸ’³ <span id="userBal">0</span></div></div>
          <button id="logoutBtn" class="badge">Ø®Ø±ÙˆØ¬</button>
        </div>
      </div>
      <!-- Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ -->
      <div id="games" class="hidden">
        <div class="game-card">
          <h3>ğŸª™ Ø¹Ù…Ù„Ø©</h3>
          <button onclick="coin('Heads')">ÙˆØ¬Ù‡</button>
          <button onclick="coin('Tails')">Ø¸Ù‡Ø±</button>
          <div id="coinRes"></div>
        </div>
        <div class="game-card">
          <h3>ğŸ² Ù†Ø±Ø¯</h3>
          <button onclick="dice()">Ø±Ù…ÙŠ</button>
          <div id="diceRes"></div>
        </div>
        <div class="game-card">
          <h3>âœŠâœ‹âœŒï¸ Ø­Ø¬Ø± ÙˆØ±Ù‚ Ù…Ù‚Øµ</h3>
          <button onclick="rps('âœŠ')">âœŠ</button>
          <button onclick="rps('âœ‹')">âœ‹</button>
          <button onclick="rps('âœŒï¸')">âœŒï¸</button>
          <div id="rpsRes"></div>
        </div>
        <div class="game-card">
          <h3>ğŸ° Ø³Ù„ÙˆØª</h3>
          <div class="slot-reels"><span id="s1">â“</span><span id="s2">â“</span><span id="s3">â“</span></div>
          <button onclick="slot()">Spin</button>
          <div id="slotRes"></div>
        </div>
        <div class="game-card">
          <h3>ğŸ’£ Mines</h3>
          <div class="mines-grid" id="mines"></div>
          <div id="minesRes"></div>
          <button onclick="resetMines()">Ø¥Ø¹Ø§Ø¯Ø©</button>
        </div>
      </div>
      <!-- Ø§Ù„Ø´Ø­Ù† -->
      <div class="card hidden" id="chargeCard">
        <h3>Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯</h3>
        <input id="chAmount" type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
        <select id="chBank"><option>CIH</option><option>CashPlus</option><option>BaridBank</option></select>
        <button class="btn" onclick="charge()">ØªØ£ÙƒÙŠØ¯</button>
        <div id="chMsg"></div>
      </div>
      <!-- Ø§Ù„Ø³Ø­Ø¨ -->
      <div class="card hidden" id="withdrawCard">
        <h3>Ø³Ø­Ø¨ Ø§Ù„Ø±ØµÙŠØ¯</h3>
        <input id="wAmount" type="number" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº">
        <select id="wBank"><option>CIH</option><option>CashPlus</option><option>BaridBank</option></select>
        <input id="wInfo" placeholder="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨">
        <button class="btn" onclick="withdraw()">ØªØ£ÙƒÙŠØ¯</button>
        <div id="wMsg"></div>
      </div>
      <!-- ÙˆÙƒÙ„Ø§Ø¡ -->
      <div class="card">
        <h3>ğŸ“ ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ø´Ø­Ù†</h3>
        <div><a href="https://wa.me/212713041921" target="_blank">+212713041921 (Ø­Ù‚ÙŠÙ‚ÙŠ)</a></div>
        <div><a href="#">+212600000000 (ÙˆÙ‡Ù…ÙŠ)</a></div>
      </div>
    </main>
    <footer>Â© INSTAPlay â€” Demo</footer>
  </div>
</div>

<!-- Ù„ÙˆØ­Ø© SV -->
<div id="svModal" class="modal hidden">
  <div class="inner">
    <h3>Ù„ÙˆØ­Ø© SV</h3>
    <label>Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„</label><input id="svEmail">
    <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</label><input id="svPass" type="password">
    <button class="btn" id="svLogin">Ø¯Ø®ÙˆÙ„</button>
    <div id="svMsg"></div>
    <div id="svPanel" class="hidden">
      <h4>ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h4>
      <div id="users"></div>
      <h4>âš™ï¸ Ø§Ù„ØªØ­ÙƒÙ…</h4>
      <div>
        <span class="chip off" id="forceWin">Ø±Ø¨Ø­ Ø¯Ø§Ø¦Ù…</span>
        <span class="chip off" id="forceLose">Ø®Ø³Ø§Ø±Ø© Ø¯Ø§Ø¦Ù…Ø©</span>
      </div>
    </div>
  </div>
</div>
<script src="app.js"></script>
</body>
</html>
/* ==========================
   INSTAPlay â€” JavaScript
   ========================== */

// Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
let users = [];
let current = null;
let svLogged = false;
let mode = "off"; // "win" Ø£Ùˆ "lose" Ø£Ùˆ "off"

// ====== Helpers ======
function save() {
  localStorage.setItem("insta_users", JSON.stringify(users));
}
function load() {
  users = JSON.parse(localStorage.getItem("insta_users") || "[]");
}
function uid() {
  return "u" + Math.random().toString(36).slice(2, 9);
}
function updateBalanceUI() {
  if (current) document.getElementById("userBal").innerText = current.balance;
}

// ====== ØªØ³Ø¬ÙŠÙ„ ======
document.getElementById("registerBtn").onclick = () => {
  const n = document.getElementById("name").value.trim();
  const e = document.getElementById("email").value.trim();
  const p = document.getElementById("pass").value.trim();
  if (!n || !e || !p) return alert("Ø§Ù…Ù„Ø£ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„");

  const u = { id: uid(), name: n, email: e, pass: p, balance: 20 };
  users.push(u);
  save();
  login(u);
};

function login(u) {
  current = u;
  document.getElementById("authCard").classList.add("hidden");
  document.getElementById("dashCard").classList.remove("hidden");
  document.getElementById("games").classList.remove("hidden");
  document.getElementById("chargeCard").classList.remove("hidden");
  document.getElementById("withdrawCard").classList.remove("hidden");
  document.getElementById("userName").innerText = u.name;
  updateBalanceUI();
}

document.getElementById("logoutBtn").onclick = () => {
  current = null;
  document.getElementById("authCard").classList.remove("hidden");
  document.getElementById("dashCard").classList.add("hidden");
  document.getElementById("games").classList.add("hidden");
  document.getElementById("chargeCard").classList.add("hidden");
  document.getElementById("withdrawCard").classList.add("hidden");
};

// ====== Ø£Ù„Ø¹Ø§Ø¨ ======
function applyResult(win, plus, minus, el) {
  if (mode === "win") win = true;
  if (mode === "lose") win = false;

  if (win) {
    current.balance += plus;
    el.innerText = "ğŸ‰ Ø±Ø¨Ø­Øª +" + plus;
  } else {
    current.balance = Math.max(0, current.balance - minus);
    el.innerText = "âŒ Ø®Ø³Ø±Øª -" + minus;
  }
  updateBalanceUI();
  save();
}

function coin(choice) {
  let result = Math.random() < 0.5 ? "Heads" : "Tails";
  let win = result === choice;
  applyResult(win, 5, 2, document.getElementById("coinRes"));
}

function dice() {
  let r = Math.floor(Math.random() * 6) + 1;
  let win = r >= 4;
  document.getElementById("diceRes").innerText = "ğŸ² " + r;
  applyResult(win, 5, 2, document.getElementById("diceRes"));
}

function rps(p) {
  let arr = ["âœŠ", "âœ‹", "âœŒï¸"];
  let c = arr[Math.floor(Math.random() * arr.length)];
  let win =
    (p === "âœŠ" && c === "âœŒï¸") ||
    (p === "âœ‹" && c === "âœŠ") ||
    (p === "âœŒï¸" && c === "âœ‹");
  document.getElementById("rpsRes").innerText = p + " vs " + c;
  applyResult(win, 5, 2, document.getElementById("rpsRes"));
}

function slot() {
  let s = ["ğŸ’", "ğŸ‹", "â­", "7ï¸âƒ£"];
  let r = [
    s[Math.floor(Math.random() * s.length)],
    s[Math.floor(Math.random() * s.length)],
    s[Math.floor(Math.random() * s.length)],
  ];
  document.getElementById("s1").innerText = r[0];
  document.getElementById("s2").innerText = r[1];
  document.getElementById("s3").innerText = r[2];
  let win = r[0] === r[1] && r[1] === r[2];
  applyResult(win, 15, 5, document.getElementById("slotRes"));
}

// Mines
let minesData = [];
function resetMines() {
  const g = document.getElementById("mines");
  g.innerHTML = "";
  minesData = [];
  for (let i = 0; i < 25; i++) {
    let isMine = Math.random() < 0.2;
    minesData.push(isMine);
    let b = document.createElement("button");
    b.innerText = "â“";
    b.onclick = () => {
      if (b.classList.contains("revealed")) return;
      if (isMine) {
        b.innerText = "ğŸ’£";
        b.classList.add("revealed", "bomb");
        applyResult(false, 0, 5, document.getElementById("minesRes"));
      } else {
        b.innerText = "ğŸ’";
        b.classList.add("revealed", "safe");
        applyResult(true, 5, 0, document.getElementById("minesRes"));
      }
    };
    g.appendChild(b);
  }
}
resetMines();

// ====== Ø´Ø­Ù†/Ø³Ø­Ø¨ ======
function charge() {
  if (!current) return;
  let amt = +document.getElementById("chAmount").value;
  if (amt <= 0) return alert("Ù…Ø¨Ù„Øº ØºÙŠØ± ØµØ§Ù„Ø­");
  current.balance += amt;
  updateBalanceUI();
  save();
  document.getElementById("chMsg").innerText = "âœ… ØªÙ… Ø§Ù„Ø´Ø­Ù†: +" + amt;
}

function withdraw() {
  if (!current) return;
  let amt = +document.getElementById("wAmount").value;
  if (amt <= 0) return alert("Ù…Ø¨Ù„Øº ØºÙŠØ± ØµØ§Ù„Ø­");
  if (amt > current.balance) {
    document.getElementById("wMsg").innerText = "âŒ Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§Ù";
    return;
  }
  current.balance -= amt;
  updateBalanceUI();
  save();
  document.getElementById("wMsg").innerText = "âœ… Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„ " + amt + " Ù‚Ø±ÙŠØ¨Ø§";
}

// ====== Ù„ÙˆØ­Ø© SV ======
document.getElementById("openSVBtn").onclick = () => {
  document.getElementById("svModal").classList.remove("hidden");
};
document.getElementById("svLogin").onclick = () => {
  let e = document.getElementById("svEmail").value.trim();
  let p = document.getElementById("svPass").value.trim();
  if (e === "sv@local" && p === "123") {
    svLogged = true;
    document.getElementById("svMsg").innerText = "âœ… Ø¯Ø®ÙˆÙ„ Ù†Ø§Ø¬Ø­";
    document.getElementById("svPanel").classList.remove("hidden");
    renderUsers();
  } else {
    document.getElementById("svMsg").innerText = "âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª";
  }
};
function renderUsers() {
  let box = document.getElementById("users");
  box.innerHTML = "";
  users.forEach((u) => {
    let div = document.createElement("div");
    div.style.marginBottom = "6px";
    div.innerHTML = `
      ${u.name} â€” ${u.balance}
      <button class="chip" onclick="adjBalance('${u.id}',5)">+5</button>
      <button class="chip" onclick="adjBalance('${u.id}',-5)">-5</button>
    `;
    box.appendChild(div);
  });
}
function adjBalance(id, delta) {
  let u = users.find((x) => x.id === id);
  if (!u) return;
  u.balance = Math.max(0, u.balance + delta);
  save();
  renderUsers();
  if (current && current.id === id) {
    current.balance = u.balance;
    updateBalanceUI();
  }
}
// Force modes
document.getElementById("forceWin").onclick = () => setMode("win");
document.getElementById("forceLose").onclick = () => setMode("lose");
function setMode(m) {
  mode = mode === m ? "off" : m;
  document.getElementById("forceWin").className =
    "chip " + (mode === "win" ? "on" : "off");
  document.getElementById("forceLose").className =
    "chip " + (mode === "lose" ? "on" : "off");
  document.getElementById("svMsg").innerText = "Ø§Ù„ÙˆØ¶Ø¹: " + mode;
}

// ====== Init ======
load();

  
