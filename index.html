<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
<title>INSTAPlay 🎮</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --ig1:#feda75;--ig2:#fa7e1e;--ig3:#d62976;--ig4:#962fbf;
  --card-bg:rgba(255,255,255,0.05);
  --radius:18px;--txt:#fff;--muted:rgba(255,255,255,0.7);
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;margin:0;padding:0}
body{
  font-family:"Tajawal",sans-serif;color:var(--txt);
  background:linear-gradient(135deg,var(--ig1),var(--ig2),var(--ig3),var(--ig4));
  background-size:300% 300%;animation:move 12s linear infinite;
}
@keyframes move{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.wrap{min-height:100vh;display:flex;align-items:flex-start;justify-content:center;padding:20px}
.phone{
  width:100%;max-width:420px;background:rgba(0,0,0,0.25);
  border-radius:24px;overflow:hidden;
  box-shadow:0 12px 40px rgba(0,0,0,0.4);
}
header{
  height:56px;display:flex;justify-content:space-between;align-items:center;
  padding:0 14px;background:rgba(0,0,0,0.2);
}
.logo{display:flex;align-items:center;gap:8px}
.logo .icon{
  width:34px;height:34px;border-radius:10px;
  background:linear-gradient(45deg,var(--ig3),var(--ig4));
  display:flex;align-items:center;justify-content:center;font-weight:700
}
.badge{padding:6px 10px;border-radius:8px;background:rgba(255,255,255,0.15);font-size:12px;cursor:pointer}
main{padding:16px}
.card{
  background:var(--card-bg);border-radius:var(--radius);
  padding:16px;margin-bottom:14px;box-shadow:0 8px 24px rgba(0,0,0,0.25);
}
label{font-size:12px;color:var(--muted);margin-bottom:4px;display:block}
input,select{
  width:100%;padding:10px;border-radius:12px;border:none;
  background:rgba(255,255,255,0.08);color:#fff;margin-bottom:10px
}
.btn{
  padding:12px;border:none;border-radius:12px;
  background:linear-gradient(90deg,var(--ig3),var(--ig4));
  color:#fff;font-weight:700;cursor:pointer;width:100%;box-shadow:0 8px 20px rgba(0,0,0,0.3)
}
.row{display:flex;gap:10px}
.hidden{display:none}
footer{text-align:center;font-size:12px;color:var(--muted);padding:10px}

/* الألعاب */
.game-card{
  background:var(--card-bg);padding:14px;border-radius:var(--radius);
  margin-bottom:16px;box-shadow:0 4px 16px rgba(0,0,0,0.3);
}
.game-card h3{margin-bottom:10px;font-size:15px}
.slot-reels{display:flex;justify-content:center;font-size:40px;gap:10px;margin-bottom:10px}
.mines-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:10px}
.mines-grid button{padding:12px;font-size:18px;border:none;border-radius:8px;background:#333;color:#fff;cursor:pointer}
.mines-grid button.revealed.safe{background:#16a34a}
.mines-grid button.revealed.bomb{background:#dc2626}

/* مودال عام */
.modal{position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;
  z-index:999}
.modal .inner{
  background:#111;padding:18px;border-radius:16px;max-width:420px;width:92%;color:#fff;
  box-shadow:0 8px 30px rgba(0,0,0,0.5);max-height:90vh;overflow:auto
}
.modal h3{margin-bottom:12px}

/* أزرار التحكم */
.chip{
  padding:6px 10px;border-radius:10px;background:rgba(255,255,255,0.1);
  font-size:12px;cursor:pointer;margin:2px
}
.chip.on{background:linear-gradient(90deg,#10b981,#059669)}
.chip.off{background:rgba(255,255,255,0.1)}
</style>
</head>
<body>
<div class="wrap">
  <div class="phone">
    <header>
      <div class="logo"><div class="icon">IP</div><div>INSTAPlay</div></div>
      <div class="badge" id="openSVBtn">SV</div>
    </header>
    <main>
      <!-- التسجيل -->
      <div class="card" id="authCard">
        <label>الاسم</label><input id="name">
        <label>البريد</label><input id="email" type="email">
        <label>كلمة السر</label><input id="pass" type="password">
        <button class="btn" id="registerBtn">تسجيل</button>
      </div>
      <!-- داشبورد -->
      <div class="card hidden" id="dashCard">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><b id="userName"></b><div>💳 <span id="userBal">0</span></div></div>
          <button id="logoutBtn" class="badge">خروج</button>
        </div>
      </div>
      <!-- الألعاب -->
      <div id="games" class="hidden">
        <div class="game-card">
          <h3>🪙 عملة</h3>
          <button onclick="coin('Heads')">وجه</button>
          <button onclick="coin('Tails')">ظهر</button>
          <div id="coinRes"></div>
        </div>
        <div class="game-card">
          <h3>🎲 نرد</h3>
          <button onclick="dice()">رمي</button>
          <div id="diceRes"></div>
        </div>
        <div class="game-card">
          <h3>✊✋✌️ حجر ورق مقص</h3>
          <button onclick="rps('✊')">✊</button>
          <button onclick="rps('✋')">✋</button>
          <button onclick="rps('✌️')">✌️</button>
          <div id="rpsRes"></div>
        </div>
        <div class="game-card">
          <h3>🎰 سلوت</h3>
          <div class="slot-reels"><span id="s1">❓</span><span id="s2">❓</span><span id="s3">❓</span></div>
          <button onclick="slot()">Spin</button>
          <div id="slotRes"></div>
        </div>
        <div class="game-card">
          <h3>💣 Mines</h3>
          <div class="mines-grid" id="mines"></div>
          <div id="minesRes"></div>
          <button onclick="resetMines()">إعادة</button>
        </div>
      </div>
      <!-- الشحن -->
      <div class="card hidden" id="chargeCard">
        <h3>شحن الرصيد</h3>
        <input id="chAmount" type="number" placeholder="المبلغ">
        <select id="chBank"><option>CIH</option><option>CashPlus</option><option>BaridBank</option></select>
        <button class="btn" onclick="charge()">تأكيد</button>
        <div id="chMsg"></div>
      </div>
      <!-- السحب -->
      <div class="card hidden" id="withdrawCard">
        <h3>سحب الرصيد</h3>
        <input id="wAmount" type="number" placeholder="المبلغ">
        <select id="wBank"><option>CIH</option><option>CashPlus</option><option>BaridBank</option></select>
        <input id="wInfo" placeholder="معلومات الحساب">
        <button class="btn" onclick="withdraw()">تأكيد</button>
        <div id="wMsg"></div>
      </div>
      <!-- وكلاء -->
      <div class="card">
        <h3>📞 وكلاء الشحن</h3>
        <div><a href="https://wa.me/212713041921" target="_blank">+212713041921 (حقيقي)</a></div>
        <div><a href="#">+212600000000 (وهمي)</a></div>
      </div>
    </main>
    <footer>© INSTAPlay — Demo</footer>
  </div>
</div>

<!-- لوحة SV -->
<div id="svModal" class="modal hidden">
  <div class="inner">
    <h3>لوحة SV</h3>
    <label>الإيميل</label><input id="svEmail">
    <label>كلمة السر</label><input id="svPass" type="password">
    <button class="btn" id="svLogin">دخول</button>
    <div id="svMsg"></div>
    <div id="svPanel" class="hidden">
      <h4>👥 المستخدمين</h4>
      <div id="users"></div>
      <h4>⚙️ التحكم</h4>
      <div>
        <span class="chip off" id="forceWin">ربح دائم</span>
        <span class="chip off" id="forceLose">خسارة دائمة</span>
      </div>
    </div>
  </div>
</div>
<script src="app.js"></script>
</body>
</html>
/* ==========================
   INSTAPlay — JavaScript
   ========================== */

// حالة النظام
let users = [];
let current = null;
let svLogged = false;
let mode = "off"; // "win" أو "lose" أو "off"

// ====== Helpers ======
function save() {
  localStorage.setItem("insta_users", JSON.stringify(users));
}
function load() {
  users = JSON.parse(localStorage.getItem("insta_users") || "[]");
}
function uid() {
  return "u" + Math.random().toString(36).slice(2, 9);
}
function updateBalanceUI() {
  if (current) document.getElementById("userBal").innerText = current.balance;
}

// ====== تسجيل ======
document.getElementById("registerBtn").onclick = () => {
  const n = document.getElementById("name").value.trim();
  const e = document.getElementById("email").value.trim();
  const p = document.getElementById("pass").value.trim();
  if (!n || !e || !p) return alert("املأ جميع الحقول");

  const u = { id: uid(), name: n, email: e, pass: p, balance: 20 };
  users.push(u);
  save();
  login(u);
};

function login(u) {
  current = u;
  document.getElementById("authCard").classList.add("hidden");
  document.getElementById("dashCard").classList.remove("hidden");
  document.getElementById("games").classList.remove("hidden");
  document.getElementById("chargeCard").classList.remove("hidden");
  document.getElementById("withdrawCard").classList.remove("hidden");
  document.getElementById("userName").innerText = u.name;
  updateBalanceUI();
}

document.getElementById("logoutBtn").onclick = () => {
  current = null;
  document.getElementById("authCard").classList.remove("hidden");
  document.getElementById("dashCard").classList.add("hidden");
  document.getElementById("games").classList.add("hidden");
  document.getElementById("chargeCard").classList.add("hidden");
  document.getElementById("withdrawCard").classList.add("hidden");
};

// ====== ألعاب ======
function applyResult(win, plus, minus, el) {
  if (mode === "win") win = true;
  if (mode === "lose") win = false;

  if (win) {
    current.balance += plus;
    el.innerText = "🎉 ربحت +" + plus;
  } else {
    current.balance = Math.max(0, current.balance - minus);
    el.innerText = "❌ خسرت -" + minus;
  }
  updateBalanceUI();
  save();
}

function coin(choice) {
  let result = Math.random() < 0.5 ? "Heads" : "Tails";
  let win = result === choice;
  applyResult(win, 5, 2, document.getElementById("coinRes"));
}

function dice() {
  let r = Math.floor(Math.random() * 6) + 1;
  let win = r >= 4;
  document.getElementById("diceRes").innerText = "🎲 " + r;
  applyResult(win, 5, 2, document.getElementById("diceRes"));
}

function rps(p) {
  let arr = ["✊", "✋", "✌️"];
  let c = arr[Math.floor(Math.random() * arr.length)];
  let win =
    (p === "✊" && c === "✌️") ||
    (p === "✋" && c === "✊") ||
    (p === "✌️" && c === "✋");
  document.getElementById("rpsRes").innerText = p + " vs " + c;
  applyResult(win, 5, 2, document.getElementById("rpsRes"));
}

function slot() {
  let s = ["🍒", "🍋", "⭐", "7️⃣"];
  let r = [
    s[Math.floor(Math.random() * s.length)],
    s[Math.floor(Math.random() * s.length)],
    s[Math.floor(Math.random() * s.length)],
  ];
  document.getElementById("s1").innerText = r[0];
  document.getElementById("s2").innerText = r[1];
  document.getElementById("s3").innerText = r[2];
  let win = r[0] === r[1] && r[1] === r[2];
  applyResult(win, 15, 5, document.getElementById("slotRes"));
}

// Mines
let minesData = [];
function resetMines() {
  const g = document.getElementById("mines");
  g.innerHTML = "";
  minesData = [];
  for (let i = 0; i < 25; i++) {
    let isMine = Math.random() < 0.2;
    minesData.push(isMine);
    let b = document.createElement("button");
    b.innerText = "❓";
    b.onclick = () => {
      if (b.classList.contains("revealed")) return;
      if (isMine) {
        b.innerText = "💣";
        b.classList.add("revealed", "bomb");
        applyResult(false, 0, 5, document.getElementById("minesRes"));
      } else {
        b.innerText = "💎";
        b.classList.add("revealed", "safe");
        applyResult(true, 5, 0, document.getElementById("minesRes"));
      }
    };
    g.appendChild(b);
  }
}
resetMines();

// ====== شحن/سحب ======
function charge() {
  if (!current) return;
  let amt = +document.getElementById("chAmount").value;
  if (amt <= 0) return alert("مبلغ غير صالح");
  current.balance += amt;
  updateBalanceUI();
  save();
  document.getElementById("chMsg").innerText = "✅ تم الشحن: +" + amt;
}

function withdraw() {
  if (!current) return;
  let amt = +document.getElementById("wAmount").value;
  if (amt <= 0) return alert("مبلغ غير صالح");
  if (amt > current.balance) {
    document.getElementById("wMsg").innerText = "❌ رصيد غير كاف";
    return;
  }
  current.balance -= amt;
  updateBalanceUI();
  save();
  document.getElementById("wMsg").innerText = "✅ سيتم تحويل " + amt + " قريبا";
}

// ====== لوحة SV ======
document.getElementById("openSVBtn").onclick = () => {
  document.getElementById("svModal").classList.remove("hidden");
};
document.getElementById("svLogin").onclick = () => {
  let e = document.getElementById("svEmail").value.trim();
  let p = document.getElementById("svPass").value.trim();
  if (e === "sv@local" && p === "123") {
    svLogged = true;
    document.getElementById("svMsg").innerText = "✅ دخول ناجح";
    document.getElementById("svPanel").classList.remove("hidden");
    renderUsers();
  } else {
    document.getElementById("svMsg").innerText = "❌ خطأ في البيانات";
  }
};
function renderUsers() {
  let box = document.getElementById("users");
  box.innerHTML = "";
  users.forEach((u) => {
    let div = document.createElement("div");
    div.style.marginBottom = "6px";
    div.innerHTML = `
      ${u.name} — ${u.balance}
      <button class="chip" onclick="adjBalance('${u.id}',5)">+5</button>
      <button class="chip" onclick="adjBalance('${u.id}',-5)">-5</button>
    `;
    box.appendChild(div);
  });
}
function adjBalance(id, delta) {
  let u = users.find((x) => x.id === id);
  if (!u) return;
  u.balance = Math.max(0, u.balance + delta);
  save();
  renderUsers();
  if (current && current.id === id) {
    current.balance = u.balance;
    updateBalanceUI();
  }
}
// Force modes
document.getElementById("forceWin").onclick = () => setMode("win");
document.getElementById("forceLose").onclick = () => setMode("lose");
function setMode(m) {
  mode = mode === m ? "off" : m;
  document.getElementById("forceWin").className =
    "chip " + (mode === "win" ? "on" : "off");
  document.getElementById("forceLose").className =
    "chip " + (mode === "lose" ? "on" : "off");
  document.getElementById("svMsg").innerText = "الوضع: " + mode;
}

// ====== Init ======
load();

  
